# Roles

- student
- teacher
- studijni oddeleni person
- dekan
- user \= any

# Feature discovery

## 1. Course discovery **(CORE)**

* **Who**: Student / Teacher / Anyone basically
* **What**: find a course description
* **Why**: To view what courses are available, search and filter them. As a user (any user) I need to be able to search through courses.

### Feature breakdown

1. A User opens Course Dashboard™.
2. System provides the User with a Course Overview and a search module with available search filters.
3. User selects and applies search filters / query to the search module and submits their query.
4. System queries the DB based on User’s requirements.
5. System provides a view of applicable Courses to the User in the Filtered Course view.
6. User selects a Course to proceed with View a Course or does some other action.

### 	Identify Responsibilities

* A User opens Course Dashboard™.
* System provides the User with a Course Overview and a search module with available search filters
  * visualize the courses and filters UI
* User selects and applies search filters / query to the search module and submits their query.
  * user can use the filters
* System queries the DB based on User’s requirements.
  * System can load course data from DB
  * System can filter course data from DB
* System provides a view of applicable Courses to the User in the Filtered Course view.
* User selects a Course to proceed with View a Course or does some other action.
  * provide buttons for actions

## 2. View a Course **(CORE)**

* **Who**: Student / Teacher / Anyone basically
* **What**: Views a single Course description
* **Why**: To obtain information about a Course

  ### Feature breakdown

1. User is somehow directed to the Course page via a link / another feature / etc.
2. The System provides the User with a Course page with several elements: title, short details, long description…
3. The User sees and marvels
4. …
5. Profit

## 3. Enroll to course **(CORE)**

* **Who**: Student
* **What**: enroll in a course
* **Why**: To be officially in a course

### Features breakdown

1. The user (on a course view) clicks to enroll in the course
2. Checking the user’s login info
   1. ensuring the user is able to even enroll (not like an admin and stuff)
      1. system validates that the user is a current student (we can have a *validators* module for that, this validator searches for the user in the store and returns a result)
3. The system fetches tickets of a course from the store
   1. *course manager* accesses the persistence layer, which sends back all tickets connected to the course
4. A new view with available tickets is displayed, with options to choose any of them
5. The user clicks on an option
6. The system checks whether it is possible to enroll (filters lower)
   1. mandatory:
      1. prerequisites passed
         1.  a manager that encapsulates the current study progress of a student is called, it calls the persistence layer
      2. the number of currently enrolled courses (maybe there’s a max amount)
   2. additional
      1. are there enough vacant positions in the course?
7. Depending on 6
   1. successful
      1. the system enrolls the user into the store of enrolled students (we can have *managers* modules, which can assign the student to a course and send it to a persistence layer)
      2. the default SIS view is displayed with a notification on top saying ‘success’
   2. mandatory not passed
      1. a new view is displayed, showing a message with an error description
   3. additional not passed
      1. the default SIS view is displayed with a ‘warning’ notification on top

## 4. Leave courses **(CORE)**

* **Who**: Student
* **What:** Leave a course
* **Why**: To be leave a course (I as a student need to be able to leave boring courses)

### Features breakdown

1. The student clicks (on enrolled course view)
2. The system queries the DB and fetches enrolled courses for the given student
3. The systems show the course view.
4. The student clicks “LEAVE COURSE” on the course which he wants to leave.
5. The system displays notification if he is sure that he wants to leave the course
   1. Student selects Cancel.
      1. The system closes the popup and the student sees again the enrolled course view
   2. Student selects Confirm.
      1. The system removes the student from the specified course.
      2. The system queries the DB and removes the course from the student’s enrolled course.
      3. The system closes the popup and refreshes the enrolled course view.



## 5. Manage courses of students **(CORE)**

* **Who**: Study department officer, teacher
* **What**: enroll and kick students to and from courses
* **Why**: to correct mistakes and solve special situations

### Feature breakdown

1. The study department officer/teacher opens the Student Management Dashboard.
2. System authenticates and validates that the user has proper permissions (study department officer or teacher role).
3. System displays a search interface to find students by name, ID, or other criteria.
4. User enters search criteria and submits the query.
5. System queries the DB and returns matching students.
6. User selects a student from the results.
7. System displays the student's current enrolled courses and provides options to manage enrollments.
8. User selects an action:
   1. **Enroll student to a course:**
      1. User clicks "Enroll to Course" button.
      2. System displays available courses with search/filter options.
      3. User selects a course and ticket option.
      4. System validates enrollment (ignoring some student-specific constraints like prerequisites if authorized).
      5. System adds the student to the course enrollment.
      6. System displays confirmation message and updates the view.
   2. **Remove student from a course:**
      1. User clicks "Remove from Course" button next to an enrolled course.
      2. System displays confirmation dialog with reason input field.
      3. User confirms the action and optionally provides a reason.
      4. System removes the student from the course enrollment.
      5. System logs the action with timestamp, officer ID, and reason.
      6. System displays confirmation message and updates the view.

### Identify Responsibilities

* The study department officer/teacher opens the Student Management Dashboard.
* System authenticates and validates that the user has proper permissions (study department officer or teacher role).
  * Authorization module validates user role
  * Access control to management features
* System displays a search interface to find students by name, ID, or other criteria.
  * Render student search UI
* User enters search criteria and submits the query.
* System queries the DB and returns matching students.
  * Student data manager queries persistence layer
  * Search and filter student records
* User selects a student from the results.
* System displays the student's current enrolled courses and provides options to manage enrollments.
  * Enrollment manager retrieves student's courses
  * Display current enrollment status
* User selects an action (Enroll or Remove):
  * Provide action buttons for enrollment management
* For enrollment:
  * Course manager retrieves available courses
  * Validation module checks enrollment constraints
  * Enrollment manager adds student to course
  * Persistence layer updates enrollment records
* For removal:
  * Display confirmation dialog UI
  * Enrollment manager removes student from course
  * Audit logger records the action
  * Persistence layer updates enrollment records
* System displays confirmation messages and updates views
  * Notification system shows success/error messages


## 6. Communicate with other students

* **Who**: Student/Teacher
* **What**: communicate with other students
* **Why**: be able to ask questions or schedule meetings with teachers

### Feature breakdown

1. Student/Teacher opens the Communication Hub from the main navigation.
2. System authenticates the user and loads their messaging interface.
3. System displays:
   1. List of recent conversations
   2. Search/filter to find other students or teachers
   3. Option to start a new conversation
4. User selects an action:
   1. **Start new conversation:**
      1. User clicks "New Message" button.
      2. System displays a search interface to find recipients.
      3. User searches for and selects one or more recipients (students/teachers).
      4. User enters message subject and content.
      5. User clicks "Send" button.
      6. System validates message (not empty, recipients valid).
      7. System stores the message in the DB.
      8. System sends notifications to recipients.
      9. System displays confirmation and shows the new conversation.
   2. **Reply to existing conversation:**
      1. User selects a conversation from the list.
      2. System loads and displays the conversation history.
      3. User types a reply in the message input field.
      4. User clicks "Send" button.
      5. System stores the reply in the conversation thread.
      6. System sends notifications to conversation participants.
      7. System updates the conversation view with the new message.
5. Optional: User can schedule a meeting through the conversation interface.
   1. User clicks "Schedule Meeting" button within a conversation.
   2. System displays a meeting scheduler with date/time picker.
   3. User selects date, time, and optionally location/room.
   4. System checks availability (if calendar integration exists).
   5. System sends meeting invitation to conversation participants.
   6. System stores the meeting in the calendar and displays confirmation.

### Identify Responsibilities

* Student/Teacher opens the Communication Hub from the main navigation.
* System authenticates the user and loads their messaging interface.
  * Authentication module verifies user identity
  * Message manager loads user's conversations
* System displays interface elements:
  * Render messaging UI with conversation list
  * Render search/filter interface
  * Render new message button
* For starting new conversation:
  * User manager provides search functionality for finding recipients
  * Message validator checks message content
  * Message manager creates and stores new conversation
  * Notification service sends alerts to recipients
  * Persistence layer stores messages
* For replying to conversation:
  * Message manager retrieves conversation history
  * Display conversation thread UI
  * Message manager appends reply to thread
  * Notification service alerts participants
  * Persistence layer updates conversation
* For scheduling meetings:
  * Calendar manager provides scheduling interface
  * Availability checker validates time slots
  * Meeting manager creates meeting record
  * Notification service sends meeting invitations
  * Persistence layer stores meeting data


## 7. Prerequisites

* **Who**: student
* **What**: find prerequisite and check if he/she has completed them
* **Why**: to ensure he/she is able to enroll and can count on it

### Feature breakdown

1. Student is viewing a course detail page (from feature 2).
2. System displays the course information including a "Prerequisites" section.
3. If the course has prerequisites:
   1. System queries the DB to fetch all prerequisite courses for the current course.
   2. System queries the student's academic record to check completion status of each prerequisite.
   3. System displays a list of prerequisites with visual indicators:
      1. Green checkmark for completed prerequisites.
      2. Red X or warning icon for incomplete prerequisites.
      3. Course code, name, and link to each prerequisite course.
4. Student can click on a prerequisite course to view its details.
5. Optional: System displays a prerequisite chain/tree view:
   1. Student clicks "View Full Prerequisite Tree" button.
   2. System recursively fetches all nested prerequisites.
   3. System displays a visual tree or graph showing prerequisite dependencies.
   4. Each node shows completion status for the student.
6. Student can assess whether they meet requirements for enrollment.

### Identify Responsibilities

* Student is viewing a course detail page.
* System displays the course information including a "Prerequisites" section.
  * Course detail view renders prerequisites section
* System queries the DB to fetch all prerequisite courses:
  * Course manager retrieves prerequisite relationships
  * Persistence layer provides prerequisite data
* System queries the student's academic record:
  * Academic record manager retrieves student's completed courses
  * Persistence layer provides completion data
* System displays prerequisites with visual indicators:
  * Prerequisite validator checks completion status
  * UI component renders prerequisite list with status icons
  * Provide navigation links to prerequisite courses
* For prerequisite tree view:
  * Prerequisite tree builder recursively fetches nested prerequisites
  * Graph/tree visualization component renders dependency structure
  * Status checker validates completion for each node
* Student can assess enrollment eligibility based on displayed information


## 8. Copilot

* **Who**: student
* **What**: AI copilot to help me with what courses might suit me
* **Why**: because I do not possess free will

### Feature breakdown

1. Student opens the Course Recommendation Copilot from the main navigation or dashboard.
2. System authenticates the student and loads their academic profile.
3. System displays the Copilot interface with:
   1. Chat interface for asking questions
   2. Quick action buttons (e.g., "Recommend courses for next semester", "Help me meet graduation requirements")
   3. Student's current progress summary
4. Student interacts with the Copilot:
   1. **Ask for course recommendations:**
      1. Student types a query or clicks a quick action button (e.g., "What courses should I take next semester?").
      2. System sends the query along with student context to the AI service.
      3. AI service analyzes:
         1. Student's completed courses and grades
         2. Remaining degree requirements
         3. Course prerequisites
         4. Course schedules and availability
         5. Student's interests (if provided)
      4. AI generates recommendations with explanations.
      5. System displays recommendations with:
         1. Course list with relevance scores
         2. Reasoning for each recommendation
         3. Links to course details
         4. "Add to mock timetable" buttons
   2. **Ask about degree progress:**
      1. Student asks "How many credits do I need to graduate?" or similar.
      2. System queries student's academic record and degree requirements.
      3. AI generates a natural language response with specific numbers.
      4. System displays progress visualization alongside text response.
   3. **Ask about course difficulty/workload:**
      1. Student asks "Is Course X difficult?" or "How much work is Course Y?".
      2. System retrieves historical data and course surveys.
      3. AI analyzes the data and generates insights.
      4. System displays response with statistics and student reviews.
5. Student can continue conversing with follow-up questions.
6. System maintains conversation context and history.

### Identify Responsibilities

* Student opens the Course Recommendation Copilot.
* System authenticates the student and loads their academic profile.
  * Authentication module verifies identity
  * Student profile manager retrieves academic data
* System displays the Copilot interface:
  * Render chat UI with input and conversation history
  * Render quick action buttons
  * Display student progress summary
* For course recommendations:
  * Query processor extracts intent from student input
  * Context builder aggregates student academic data
  * AI service integration sends request to LLM with context
  * Recommendation engine processes AI response
  * Course manager retrieves course details
  * Schedule manager checks availability
  * Render recommendations with explanations and actions
* For degree progress queries:
  * Academic record manager retrieves completion data
  * Degree requirements manager fetches program requirements
  * Progress calculator determines remaining requirements
  * AI service generates natural language explanation
  * Visualization component renders progress charts
* For course difficulty queries:
  * Statistics manager retrieves historical enrollment/grade data
  * Survey manager fetches course reviews
  * AI service analyzes and summarizes data
  * Render insights with supporting statistics
* Conversation manager maintains chat history and context
* Persistence layer stores conversation logs (optional)


## 9. Current statistics

* **Who**: student / teacher / study department
* **What**: check current enrollment status
* **Why**: to assess current state of enrollment (jaký je zájem a tak)

### Feature breakdown

1. User (student/teacher/study department) navigates to the Statistics Dashboard.
2. System authenticates the user and determines their role.
3. System displays the Current Enrollment Statistics view with filters:
   1. Course filter (search by course code/name)
   2. Department filter
   3. Semester filter (defaults to current semester)
   4. Faculty filter (if applicable)
4. User applies filters or views default statistics.
5. System queries the DB for current enrollment data based on filters.
6. System displays statistics including:
   1. **For each course:**
      1. Course code and name
      2. Current enrollment count
      3. Maximum capacity
      4. Available slots remaining
      5. Enrollment percentage (visual progress bar)
      6. Number of students on waiting list (if applicable)
   2. **Aggregate statistics:**
      1. Total students enrolled across filtered courses
      2. Average enrollment rate
      3. Courses with highest/lowest enrollment
      4. Courses that are full or nearly full
7. User can interact with the data:
   1. Click on a course to see detailed breakdown (by ticket type, by study program, etc.)
   2. Export statistics to CSV/PDF for reporting
   3. View real-time updates (auto-refresh option)
8. Role-specific features:
   1. **Study department/Teacher**: Can see all courses
   2. **Student**: Can see only courses relevant to their program or courses they're interested in

### Identify Responsibilities

* User navigates to the Statistics Dashboard.
* System authenticates the user and determines their role.
  * Authentication module verifies identity
  * Authorization module checks role permissions
* System displays the Current Enrollment Statistics view with filters:
  * Render statistics dashboard UI
  * Render filter controls
* User applies filters or views default statistics.
* System queries the DB for current enrollment data:
  * Statistics manager retrieves enrollment data
  * Filter engine applies user-specified filters
  * Persistence layer provides enrollment records
* System displays statistics:
  * Data aggregator calculates enrollment metrics
  * Statistics visualizer renders progress bars and charts
  * Course manager provides course details
  * Capacity calculator determines remaining slots
* User can interact with the data:
  * Detail view component shows course breakdown
  * Export manager generates CSV/PDF reports
  * Real-time updater refreshes data periodically
* Role-specific access control:
  * Authorization filter limits data based on user role
  * Student-specific filter shows relevant courses only

## 10. Historical stats

* **Who**: student / teacher / study department
* **What**: access course stats from previous years
* **Why:** to learn from history, how popular it was,...

### Feature breakdown

1. User (student/teacher/study department) navigates to the Historical Statistics Dashboard.
2. System authenticates the user and determines their role.
3. System displays the Historical Statistics view with filters:
   1. Course filter (search by course code/name)
   2. Academic year range selector (e.g., 2019-2024)
   3. Semester filter (winter/summer/both)
   4. Department filter
4. User selects a course or set of filters and submits the query.
5. System queries the DB for historical enrollment and performance data.
6. System retrieves and aggregates data including:
   1. Enrollment numbers by semester/year
   2. Grade distributions by semester/year
   3. Pass/fail rates over time
   4. Student satisfaction scores from surveys (if available)
   5. Teacher changes over time
7. System displays the data in multiple formats:
   1. **Charts and graphs:**
      1. Line chart showing enrollment trends over time
      2. Bar chart for grade distributions
      3. Trend lines for pass rates
   2. **Tables:**
      1. Detailed year-by-year breakdown
      2. Statistical comparisons (average, median, min, max)
   3. **Summary insights:**
      1. "Enrollment has grown by 25% over the past 5 years"
      2. "Pass rate is most consistent in winter semesters"
8. User can interact with visualizations:
   1. Hover over data points for detailed information
   2. Toggle between different metrics
   3. Compare multiple courses side-by-side
   4. Export data to CSV/PDF
9. Role-specific features:
   1. **Study department/Teacher**: Access to all historical data including sensitive metrics
   2. **Student**: Limited to enrollment trends and aggregated grade distributions (no individual records)

### Identify Responsibilities

* User navigates to the Historical Statistics Dashboard.
* System authenticates the user and determines their role.
  * Authentication module verifies identity
  * Authorization module checks role permissions
* System displays the Historical Statistics view with filters:
  * Render historical statistics dashboard UI
  * Render year range selector and filter controls
* User selects filters and submits the query.
* System queries the DB for historical data:
  * Historical data manager retrieves archived records
  * Filter engine applies user-specified filters
  * Persistence layer provides historical enrollment and grade data
* System retrieves and aggregates data:
  * Data aggregator calculates statistics across time periods
  * Grade analyzer computes distributions and pass rates
  * Survey manager retrieves historical satisfaction scores
  * Course history tracker identifies teacher changes
* System displays data in multiple formats:
  * Chart renderer creates line charts and bar charts
  * Table generator formats tabular data
  * Trend analyzer generates insight summaries
  * Visualization component renders interactive graphs
* User can interact with visualizations:
  * Interactive chart component handles hover events
  * Metric switcher toggles between views
  * Comparison engine displays side-by-side course data
  * Export manager generates CSV/PDF reports
* Role-specific access control:
  * Authorization filter limits sensitive data for students
  * Data anonymizer aggregates individual records for privacy

## 11. Course Surveys

* **Who**: student / teacher / study department
* **What**: check / add course surveys
* **Why**: to assess the opinion of others on course / share one’s opinion


## 12. Create a mock timetable

* **Who**: student
* **What**: create your own timetable
* **Why**: to check if some courses are scheduled at the same time


## 13. Remaining mandatory courses
